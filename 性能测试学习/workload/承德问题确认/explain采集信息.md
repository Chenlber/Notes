

## 采集explain信息

```
MySQL [anytxn]> /*proxy*/ show config;
+------------------+---------------------------------+
| config_name      | value                           |
+------------------+---------------------------------+
| version          | "proxy-22.4.2"                  |
| mode             | group shard                     |
| rootdir          | /tdsqlzk/group_1705991217_44976 |
| sys_log_level    | 2                               |
| inter_log_level  | 1                               |
| inter_time_open  | 0                               |
| sql_log_level    | 1                               |
| slow_log_level   | 1                               |
| slow_log_ms      | 1000                            |
| log_clean_time   | 14                              |
| log_clean_size   | 10                              |
| rw_split         | 1                               |
| ip_pass_through  | 1                               |
| consistent_read  | 2                               |
| global_trx_order | 0                               |
| ipv6_flag        | 0                               |
+------------------+---------------------------------+
16 rows in set (0.00 sec)

MySQL [anytxn]> explain select bmlosubjec0_.txa_number as col_0_0_, bmlosubjec0_.txa_type as col_1_0_, bmlosubjec0_.subject_code as col_2_0_, bmlosubjec0_.subject_desc as col_3_0_, sum(bmlosubjec0_.amount) as col_4_0_, bmlosubjec0_.txa_post_time as col_5_0_, bmlosubjec0_.create_time as col_6_0_, bmlosubjec0_.now_business_date as col_7_0_, bmlosubjec0_.txn_code as col_8_0_, bmlosubjec0_.flag as col_9_0_, bmlosubjec0_.txn_orig_txa_number as col_10_0_, bmlosubjec0_.channel_code as col_11_0_, bmlosubjec0_.cust_number as col_12_0_, bmlosubjec0_.tran_sq as col_13_0_, bmlosubjec0_.vchr_sq as col_14_0_, bmlosubjec0_.loan_order_number as col_15_0_, bmlosubjec0_.organization_id as col_16_0_ from bm_lo_subject_detail bmlosubjec0_ where bmlosubjec0_.now_business_date=date_format((select prccorgani1_.today from pr_cc_organization_table prccorgani1_ where prccorgani1_.id='80000023'), '%Y-%m-%d') group by bmlosubjec0_.subject_code , bmlosubjec0_.flag , bmlosubjec0_.organization_id order by bmlosubjec0_.txa_number asc limit 20000; 
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| trace                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [
   {
      "AggFunc " : "sum(`anytxn`.`bmlosubjec0_`.`amount`)",
      "DBGroupColumns " : "`anytxn`.`bmlosubjec0_`.`subject_code`,`anytxn`.`bmlosubjec0_`.`flag`,`anytxn`.`bmlosubjec0_`.`organization_id`",
      "DBSortedColumns " : "`anytxn`.`bmlosubjec0_`.`subject_code`,`anytxn`.`bmlosubjec0_`.`flag`,`anytxn`.`bmlosubjec0_`.`organization_id`",
      "ProxyDeduplicate " : "false",
      "ProxyQuery" : "SELECT f0 ,f1 ,f2 ,f3 ,f4 ,f5 ,f6 ,f7 ,f8 ,f9 ,f10 ,f11 ,f12 ,f13 ,f14 ,f15 ,f16  FROM proxy_tmpdb.tmptbl  ORDER BY f0   limit 20000",
      "ProxySortedColumns " : "`anytxn`.`bmlosubjec0_`.`txa_number`",
      "ProxyTmptable" : "CREATE TEMPORARY TABLE proxy_tmpdb.tmptbl (f0 varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f1 varchar(2) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f2 varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f3 varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f4  decimal(40, 5),f5 date,f6 datetime,f7 date,f8 varchar(5) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f9 varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f10 varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f11 varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f12 varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f13 varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f14 varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f15 varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f16 varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin)",
      "Query" : "set_1705991398_1 set_1705991398_3 set_1705991399_5 set_1705991399_7  , Select `bmlosubjec0_`.`txa_type`, `bmlosubjec0_`.`subject_code`, `bmlosubjec0_`.`subject_desc`, `bmlosubjec0_`.`amount`, `bmlosubjec0_`.`txa_post_time`, `bmlosubjec0_`.`create_time`, `bmlosubjec0_`.`txn_code`, `bmlosubjec0_`.`flag`, `bmlosubjec0_`.`txn_orig_txa_number`, `bmlosubjec0_`.`channel_code`, `bmlosubjec0_`.`cust_number`, `bmlosubjec0_`.`tran_sq`, `bmlosubjec0_`.`vchr_sq`, `bmlosubjec0_`.`now_business_date`, `bmlosubjec0_`.`txa_number`, `bmlosubjec0_`.`loan_order_number`, `bmlosubjec0_`.`organization_id`, `anytxn`.`bmlosubjec0_`.`subject_code`, `anytxn`.`bmlosubjec0_`.`flag`, `anytxn`.`bmlosubjec0_`.`organization_id`,sum(`anytxn`.`bmlosubjec0_`.`amount`) from `anytxn`.`bm_lo_subject_detail` `bmlosubjec0_` where (`anytxn`.`bmlosubjec0_`.`now_business_date` = date_format((select `anytxn`.`prccorgani1_`.`today` from `anytxn`.`pr_cc_organization_table` `prccorgani1_` where (`anytxn`.`prccorgani1_`.`id` = '80000023')),'%Y-%m-%d')) group by 18,19,20 order by 18,19,20",
      "QueryMode" : "Hash"
   }
]
 |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)


MySQL [anytxn]> explain select d.id,d.contract_no, d.contract_type, d.`name`, d.cert_type, d.cert_no, d.business_date from hb_bill_loan_detail_acct d left JOIN hb_bill_first_loan_info f on d.cert_no = f.cert_no where f.id is null and d.business_date =  NAME_CONST('varDate',_latin1'2024-03-25' COLLATE 'latin1_swedish_ci') group by d.cert_no;
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| trace                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [
   {
      "hb_bill_first_loan_info" : "Tad(id,contract_no,contract_type,name,cert_type,cert_no,status,prin_ovd_days,int_ovd_days,first_ovd_date,first_repay_date,first_repay_ovd_days,business_date,create_time,last_update_time)",
      "hb_bill_loan_detail_acct" : "T9a(id,contract_no,fund_seq_no,prod_code,internal_transfer_tag,contract_type,name,cert_type,cert_no,loan_status,loan_use,use_area,apply_date,currency,encash_amt,total_terms,encash_date,start_date,end_date,repay_mode,grace_day,total_fee_rate,rate_type,day_rate,prin_repay_frequency,int_repay_frequency,guarantee_type,credit_no,encash_acct_type,encash_acct_no,repay_acct_type,repay_acct_no,apply_no,agreement_no,settle_date,status,clear_date,asset_class,accrued_status,next_repay_date,unclear_terms,ovd_terms,prin_ovd_days,int_ovd_days,begin_prin,prin_bal,ovd_prin_bal,int_bal,ovd_int_bal,ovd_prin_pnlt_bal,ovd_int_pnlt_bal,contract_init_type,paid_prin_amt,paid_ovd_prin_amt,paid_int_amt,paid_ovd_int_amt,paid_ovd_prin_pnlt_amt,paid_ovd_int_pnlt_amt,hb_fee_amt,business_date,create_time,update_time,agricul_related,dkcplb,dkzqdqrq,dkyezrmb,dkdjjzlx,jzll,dkczfcfs,dkllcxdjr,sfscdk,dkfsjezrmb,zczqhcpdm,dkczfs,ffhsbs,acct_status,trans_channel,cbm_flag,agent_name,authorization_teller_num,is_cash,financial_license_no,organization_id,organization_name,business_mode,coopearte_id,cooperate_amount,authorization_no,authorization_valid_date,authorization_invalid_date,contract_status,byzd1,byzd2,prin_ovd_date,int_ovd_date,overdue_date,overdue_days,customer_day_rate)",
      "optype" : "TableRename",
      "timecost" : "0.034000"
   },
   {
      "0.OpType         " : "Load table",
      "1.TableName      " : "T9a",
      "2.PushedDownCond " : "( /*filter*/((`anytxn`.`d`.`business_date`=NAME_CONST('varDate',(_latin1'2024-03-25' collate latin1_swedish_ci)))))",
      "3.NumOfRows      " : "0",
      "4.AddedCond      " : "`anytxn`.`d`.`accrued_status` is null",
      "Query" : "AllSets , select `id`,`contract_no`,`fund_seq_no`,`prod_code`,`internal_transfer_tag`,`contract_type`,`name`,`cert_type`,`cert_no`,`loan_status`,`loan_use`,`use_area`,`apply_date`,`currency`,`encash_amt`,`total_terms`,`encash_date`,`start_date`,`end_date`,`repay_mode`,`grace_day`,`total_fee_rate`,`rate_type`,`day_rate`,`prin_repay_frequency`,`int_repay_frequency`,`guarantee_type`,`credit_no`,`encash_acct_type`,`encash_acct_no`,`repay_acct_type`,`repay_acct_no`,`apply_no`,`agreement_no`,`settle_date`,`status`,`clear_date`,`asset_class`,`accrued_status`,`next_repay_date`,`unclear_terms`,`ovd_terms`,`prin_ovd_days`,`int_ovd_days`,`begin_prin`,`prin_bal`,`ovd_prin_bal`,`int_bal`,`ovd_int_bal`,`ovd_prin_pnlt_bal`,`ovd_int_pnlt_bal`,`contract_init_type`,`paid_prin_amt`,`paid_ovd_prin_amt`,`paid_int_amt`,`paid_ovd_int_amt`,`paid_ovd_prin_pnlt_amt`,`paid_ovd_int_pnlt_amt`,`hb_fee_amt`,`business_date`,`create_time`,`update_time`,`agricul_related`,`dkcplb`,`dkzqdqrq`,`dkyezrmb`,`dkdjjzlx`,`jzll`,`dkczfcfs`,`dkllcxdjr`,`sfscdk`,`dkfsjezrmb`,`zczqhcpdm`,`dkczfs`,`ffhsbs`,`acct_status`,`trans_channel`,`cbm_flag`,`agent_name`,`authorization_teller_num`,`is_cash`,`financial_license_no`,`organization_id`,`organization_name`,`business_mode`,`coopearte_id`,`cooperate_amount`,`authorization_no`,`authorization_valid_date`,`authorization_invalid_date`,`contract_status`,`byzd1`,`byzd2`,`prin_ovd_date`,`int_ovd_date`,`overdue_date`,`overdue_days`,`customer_day_rate` from `anytxn`.`hb_bill_loan_detail_acct` `d` where ( /*filter*/((`anytxn`.`d`.`business_date`=NAME_CONST('varDate',(_latin1'2024-03-25' collate latin1_swedish_ci))))) limit 1000",
      "QueryMode" : "All",
      "timecost" : "2.219000"
   },
   {
      "Query" : " select `anytxn`.`d`.`id`,`anytxn`.`d`.`contract_no`,`anytxn`.`d`.`contract_type`,`anytxn`.`d`.`name`,`anytxn`.`d`.`cert_type`,`anytxn`.`d`.`cert_no`,`anytxn`.`d`.`business_date` from `anytxn`.`T9a` `d` left join `anytxn`.`Tad` `f` on((`anytxn`.`d`.`cert_no` = `anytxn`.`f`.`cert_no`)) where 0 group by `anytxn`.`d`.`cert_no`",
      "timecost" : "0.002000"
   }
]
 |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.01 sec)
```





```
MySQL [anytxn]> /*proxy*/ show config;
+------------------+---------------------------------+
| config_name      | value                           |
+------------------+---------------------------------+
| version          | "proxy-22.4.1"                  |
| mode             | group shard                     |
| rootdir          | /tdsqlzk/group_1705991217_44976 |
| sys_log_level    | 2                               |
| inter_log_level  | 1                               |
| inter_time_open  | 0                               |
| sql_log_level    | 1                               |
| slow_log_level   | 1                               |
| slow_log_ms      | 1000                            |
| log_clean_time   | 14                              |
| log_clean_size   | 200                             |
| rw_split         | 1                               |
| ip_pass_through  | 1                               |
| consistent_read  | 2                               |
| global_trx_order | 0                               |
| ipv6_flag        | 0                               |
+------------------+---------------------------------+
16 rows in set (0.00 sec)

MySQL [anytxn]> explain select bmlosubjec0_.txa_number as col_0_0_, bmlosubjec0_.txa_type as col_1_0_, bmlosubjec0_.subject_code as col_2_0_, bmlosubjec0_.subject_desc as col_3_0_, sum(bmlosubjec0_.amount) as col_4_0_, bmlosubjec0_.txa_post_time as col_5_0_, bmlosubjec0_.create_time as col_6_0_, bmlosubjec0_.now_business_date as col_7_0_, bmlosubjec0_.txn_code as col_8_0_, bmlosubjec0_.flag as col_9_0_, bmlosubjec0_.txn_orig_txa_number as col_10_0_, bmlosubjec0_.channel_code as col_11_0_, bmlosubjec0_.cust_number as col_12_0_, bmlosubjec0_.tran_sq as col_13_0_, bmlosubjec0_.vchr_sq as col_14_0_, bmlosubjec0_.loan_order_number as col_15_0_, bmlosubjec0_.organization_id as col_16_0_ from bm_lo_subject_detail bmlosubjec0_ where bmlosubjec0_.now_business_date=date_format((select prccorgani1_.today from pr_cc_organization_table prccorgani1_ where prccorgani1_.id='80000023'), '%Y-%m-%d') group by bmlosubjec0_.subject_code , bmlosubjec0_.flag , bmlosubjec0_.organization_id order by bmlosubjec0_.txa_number asc limit 20000; 
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| trace                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [
   {
      "AggFunc " : "sum(`anytxn`.`bmlosubjec0_`.`amount`)",
      "DBGroupColumns " : "`anytxn`.`bmlosubjec0_`.`subject_code`,`anytxn`.`bmlosubjec0_`.`flag`,`anytxn`.`bmlosubjec0_`.`organization_id`",
      "DBSortedColumns " : "`anytxn`.`bmlosubjec0_`.`subject_code`,`anytxn`.`bmlosubjec0_`.`flag`,`anytxn`.`bmlosubjec0_`.`organization_id`",
      "ProxyDeduplicate " : "false",
      "ProxyQuery" : "SELECT f0 ,f1 ,f2 ,f3 ,f4 ,f5 ,f6 ,f7 ,f8 ,f9 ,f10 ,f11 ,f12 ,f13 ,f14 ,f15 ,f16  FROM proxy_tmpdb.tmptbl  ORDER BY f0   limit 20000",
      "ProxySortedColumns " : "`anytxn`.`bmlosubjec0_`.`txa_number`",
      "ProxyTmptable" : "CREATE TEMPORARY TABLE proxy_tmpdb.tmptbl (f0 varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f1 varchar(2) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f2 varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f3 varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f4  decimal(40, 5),f5 date,f6 datetime,f7 date,f8 varchar(5) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f9 varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f10 varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f11 varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f12 varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f13 varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f14 varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f15 varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,f16 varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin)",
      "Query" : "set_1705991398_1 set_1705991398_3 set_1705991399_5 set_1705991399_7  , Select `bmlosubjec0_`.`txa_type`, `bmlosubjec0_`.`subject_code`, `bmlosubjec0_`.`subject_desc`, `bmlosubjec0_`.`amount`, `bmlosubjec0_`.`txa_post_time`, `bmlosubjec0_`.`create_time`, `bmlosubjec0_`.`txn_code`, `bmlosubjec0_`.`flag`, `bmlosubjec0_`.`txn_orig_txa_number`, `bmlosubjec0_`.`channel_code`, `bmlosubjec0_`.`cust_number`, `bmlosubjec0_`.`tran_sq`, `bmlosubjec0_`.`vchr_sq`, `bmlosubjec0_`.`now_business_date`, `bmlosubjec0_`.`txa_number`, `bmlosubjec0_`.`loan_order_number`, `bmlosubjec0_`.`organization_id`, `anytxn`.`bmlosubjec0_`.`subject_code`, `anytxn`.`bmlosubjec0_`.`flag`, `anytxn`.`bmlosubjec0_`.`organization_id`,sum(`anytxn`.`bmlosubjec0_`.`amount`) from `anytxn`.`bm_lo_subject_detail` `bmlosubjec0_` where (`anytxn`.`bmlosubjec0_`.`now_business_date` = date_format((select `anytxn`.`prccorgani1_`.`today` from `anytxn`.`pr_cc_organization_table` `prccorgani1_` where (`anytxn`.`prccorgani1_`.`id` = '80000023')),'%Y-%m-%d')) group by 18,19,20 order by 18,19,20",
      "QueryMode" : "Hash"
   }
]
 |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

MySQL [anytxn]> explain select d.id,d.contract_no, d.contract_type, d.`name`, d.cert_type, d.cert_no, d.business_date from hb_bill_loan_detail_acct d left JOIN hb_bill_first_loan_info f on d.cert_no = f.cert_no where f.id is null and d.business_date =  NAME_CONST('varDate',_latin1'2024-03-25' COLLATE 'latin1_swedish_ci') group by d.cert_no;
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| trace                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [
   {
      "hb_bill_first_loan_info" : "T3(id,contract_no,contract_type,name,cert_type,cert_no,status,prin_ovd_days,int_ovd_days,first_ovd_date,first_repay_date,first_repay_ovd_days,business_date,create_time,last_update_time)",
      "hb_bill_loan_detail_acct" : "T4(id,contract_no,fund_seq_no,prod_code,internal_transfer_tag,contract_type,name,cert_type,cert_no,loan_status,loan_use,use_area,apply_date,currency,encash_amt,total_terms,encash_date,start_date,end_date,repay_mode,grace_day,total_fee_rate,rate_type,day_rate,prin_repay_frequency,int_repay_frequency,guarantee_type,credit_no,encash_acct_type,encash_acct_no,repay_acct_type,repay_acct_no,apply_no,agreement_no,settle_date,status,clear_date,asset_class,accrued_status,next_repay_date,unclear_terms,ovd_terms,prin_ovd_days,int_ovd_days,begin_prin,prin_bal,ovd_prin_bal,int_bal,ovd_int_bal,ovd_prin_pnlt_bal,ovd_int_pnlt_bal,contract_init_type,paid_prin_amt,paid_ovd_prin_amt,paid_int_amt,paid_ovd_int_amt,paid_ovd_prin_pnlt_amt,paid_ovd_int_pnlt_amt,hb_fee_amt,business_date,create_time,update_time,agricul_related,dkcplb,dkzqdqrq,dkyezrmb,dkdjjzlx,jzll,dkczfcfs,dkllcxdjr,sfscdk,dkfsjezrmb,zczqhcpdm,dkczfs,ffhsbs,acct_status,trans_channel,cbm_flag,agent_name,authorization_teller_num,is_cash,financial_license_no,organization_id,organization_name,business_mode,coopearte_id,cooperate_amount,authorization_no,authorization_valid_date,authorization_invalid_date,contract_status,byzd1,byzd2,prin_ovd_date,int_ovd_date,overdue_date,overdue_days,customer_day_rate)",
      "optype" : "TableRename",
      "timecost" : "0.025000"
   },
   {
      "0.OpType         " : "Load table",
      "1.TableName      " : "T4",
      "2.PushedDownCond " : "( /*filter*/((`anytxn`.`d`.`business_date`=NAME_CONST('varDate',(_latin1'2024-03-25' collate latin1_swedish_ci)))))",
      "3.NumOfRows      " : "0",
      "4.AddedCond      " : "`anytxn`.`d`.`accrued_status` is null",
      "Query" : "AllSets , select `id`,`contract_no`,`fund_seq_no`,`prod_code`,`internal_transfer_tag`,`contract_type`,`name`,`cert_type`,`cert_no`,`loan_status`,`loan_use`,`use_area`,`apply_date`,`currency`,`encash_amt`,`total_terms`,`encash_date`,`start_date`,`end_date`,`repay_mode`,`grace_day`,`total_fee_rate`,`rate_type`,`day_rate`,`prin_repay_frequency`,`int_repay_frequency`,`guarantee_type`,`credit_no`,`encash_acct_type`,`encash_acct_no`,`repay_acct_type`,`repay_acct_no`,`apply_no`,`agreement_no`,`settle_date`,`status`,`clear_date`,`asset_class`,`accrued_status`,`next_repay_date`,`unclear_terms`,`ovd_terms`,`prin_ovd_days`,`int_ovd_days`,`begin_prin`,`prin_bal`,`ovd_prin_bal`,`int_bal`,`ovd_int_bal`,`ovd_prin_pnlt_bal`,`ovd_int_pnlt_bal`,`contract_init_type`,`paid_prin_amt`,`paid_ovd_prin_amt`,`paid_int_amt`,`paid_ovd_int_amt`,`paid_ovd_prin_pnlt_amt`,`paid_ovd_int_pnlt_amt`,`hb_fee_amt`,`business_date`,`create_time`,`update_time`,`agricul_related`,`dkcplb`,`dkzqdqrq`,`dkyezrmb`,`dkdjjzlx`,`jzll`,`dkczfcfs`,`dkllcxdjr`,`sfscdk`,`dkfsjezrmb`,`zczqhcpdm`,`dkczfs`,`ffhsbs`,`acct_status`,`trans_channel`,`cbm_flag`,`agent_name`,`authorization_teller_num`,`is_cash`,`financial_license_no`,`organization_id`,`organization_name`,`business_mode`,`coopearte_id`,`cooperate_amount`,`authorization_no`,`authorization_valid_date`,`authorization_invalid_date`,`contract_status`,`byzd1`,`byzd2`,`prin_ovd_date`,`int_ovd_date`,`overdue_date`,`overdue_days`,`customer_day_rate` from `anytxn`.`hb_bill_loan_detail_acct` `d` where ( /*filter*/((`anytxn`.`d`.`business_date`=NAME_CONST('varDate',(_latin1'2024-03-25' collate latin1_swedish_ci))))) limit 1000",
      "QueryMode" : "All",
      "timecost" : "1.409000"
   },
   {
      "Query" : " select `anytxn`.`d`.`id`,`anytxn`.`d`.`contract_no`,`anytxn`.`d`.`contract_type`,`anytxn`.`d`.`name`,`anytxn`.`d`.`cert_type`,`anytxn`.`d`.`cert_no`,`anytxn`.`d`.`business_date` from `anytxn`.`T4` `d` left join `anytxn`.`T3` `f` on((`anytxn`.`d`.`cert_no` = `anytxn`.`f`.`cert_no`)) where 0 group by `anytxn`.`d`.`cert_no`",
      "timecost" : "0.005000"
   }
]
 |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.01 sec)
```



