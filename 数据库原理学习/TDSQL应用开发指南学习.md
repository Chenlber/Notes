## 配置二级分区表需要考虑的事情

使用前根据业务长期场景合理设计表结构，二级分区适用于表结构创建后长期都不需要DDL变更、需要定期进行分区数据清理和裁剪的场景，比如日志流水表







如果Join 相关的表有分表键相等条件（如下示例），由于分表的一致性原则，会让这部分数据自动存储到同一物理节点，此时相当于单机Join，数据处理效率将更高，因此我们推荐使用join方式替代子查询。





select t1.a,t1.b,t1.c,t2.a,t2.b,t2.c from test1 t1 join test2 t2 where t1.a=t2.a;

其中，join时，on是必须的嘛？





注释透传功能怎么使用？

```
/*sets:set_1*/

/*sets:set_1,set_2*/ （set名字可以通过/*proxy*/show status查询）

/*sets:allsets */





MySQL [(none)]> /*proxy*/ show status;
```











TDSQL是一款针对OLTP场景设计的分布式数据库产品，适用于高并发的联机访问。此类场景下，数据库的使用思路是尽量降低数据库的CPU和IO负载，将没有必要由数据库进行的计算上移到应用层处理，通过应用层横向扩展提升性能，使数据库最基本的增删改查能满足业务要求。





●  【建议】创建数据库时必须显式指定字符集，并且字符集只能是 utf8mb4

●  【建议】表必须有主键，且主键值禁止被更新

●  【不建议】不建议使用 enum，set，使用 tinyint 或 smallint 代替，因为增加新的枚举值属于ddl操作

●  【建议】业务中 IPV4 地址字段推荐使用 int 类型，不推荐用 char(15)

●  【建议】尽量使用字段固有属性，不要用 varchar 代替 int 或 datetime









